<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AirHost&ShortStay ‚Äì Real‚Äëtime discovery</title>
    <!-- Leaflet (OSM) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">
    <style>
        /* GLOBAL STYLES (embedded for brevity ‚Äì in production separate files) */
        * { margin:0; padding:0; box-sizing:border-box; font-family:system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif; }
        body { background:#0f172a; color:#fff; overflow-x:hidden; }
        /* Header & nav */
        .sticky-header { position:sticky; top:0; background:#0f172a; padding:0.8rem 2rem; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid #1e293b; z-index:1000; }
        .logo-area { display:flex; align-items:center; gap:1rem; }
        .logo { font-size:1.8rem; font-weight:700; color:#fff; text-decoration:none; letter-spacing:-0.5px; }
        .logo span { color:#f59e0b; }
        .pulse-badge { background:#f59e0b; width:12px; height:12px; border-radius:50%; animation:pulse 1.5s infinite; box-shadow:0 0 0 0 #f59e0b; }
        @keyframes pulse { 0% { box-shadow:0 0 0 0 #f59e0b; } 70% { box-shadow:0 0 0 10px rgba(245,158,11,0); } 100% { box-shadow:0 0 0 0 rgba(245,158,11,0); } }
        .search-bar-persistent { background:#1e293b; border-radius:40px; padding:0.4rem 1rem; display:flex; align-items:center; width:400px; }
        .search-bar-persistent input { background:transparent; border:none; color:#fff; width:100%; outline:none; }
        .right-icons { display:flex; gap:1.5rem; align-items:center; }
        .icon { font-size:1.4rem; cursor:pointer; }
        /* Navigation */
        .nav-menu { display:flex; gap:2rem; padding:0.5rem 2rem; background:#0f172a; border-bottom:1px solid #1e293b; }
        .nav-menu a { color:#94a3b8; text-decoration:none; font-weight:500; transition:0.2s; }
        .nav-menu a.active { color:#f59e0b; border-bottom:2px solid #f59e0b; }
        .nav-menu a:hover { color:#fff; text-shadow:0 0 8px #f59e0b; }
        /* Footer */
        .global-footer { background:#0a0f1a; padding:2rem; margin-top:3rem; border-top:1px solid #1e293b; }
        .social-icons a { color:#94a3b8; margin-right:1.5rem; font-size:1.6rem; text-decoration:none; }
        .footer-links a { color:#94a3b8; margin-right:2rem; text-decoration:none; }
        .marquee-banner { background:#f59e0b20; color:#f59e0b; padding:0.6rem; overflow:hidden; white-space:nowrap; border-radius:40px; margin-top:1rem; animation:scroll 20s linear infinite; }
        @keyframes scroll { 0% { transform:translateX(100%); } 100% { transform:translateX(-100%); } }
        /* floating assistant */
        .dash-assistant { position:fixed; bottom:30px; right:30px; background:#10b981; width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:2rem; cursor:pointer; box-shadow:0 0 20px #10b981; z-index:2000; animation:glowPulse 2s infinite; }
        @keyframes glowPulse { 0% { box-shadow:0 0 10px #10b981; } 50% { box-shadow:0 0 30px #10b981; } 100% { box-shadow:0 0 10px #10b981; } }
        /* mobile mockup overlay */
        .mobile-mockup { position:fixed; bottom:20px; left:20px; width:220px; background:#1e293b; border-radius:30px; padding:1rem; border:3px solid #334155; box-shadow:0 20px 30px #000; z-index:1500; }
        .mockup-screen { background:#0f172a; border-radius:20px; padding:0.8rem; }
        .mockup-header { font-size:0.8rem; color:#f59e0b; }
        .mockup-map { height:80px; background:#2d3a4f; margin:0.5rem 0; border-radius:12px; display:flex; align-items:center; justify-content:center; }
        .mockup-card { background:#334155; border-radius:10px; padding:0.4rem; margin:0.3rem 0; font-size:0.7rem; }
        .mockup-bot { background:#10b981; width:30px; height:30px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin-top:0.5rem; animation:pulse 1s infinite; }
        /* homepage specific */
        .full-map { height:70vh; width:100%; position:relative; }
        .radius-control { position:absolute; bottom:20px; left:20px; background:#1e293b; padding:1rem; border-radius:30px; z-index:500; }
        .hot-homes-carousel { display:flex; gap:1rem; overflow-x:auto; padding:1rem 2rem; }
        .carousel-card { min-width:200px; background:#1e293b; border-radius:20px; padding:1rem; }
        .countdown-badge { background:#f59e0b; color:#0f172a; border-radius:40px; padding:0.2rem 0.8rem; font-size:0.8rem; }
        .featured-sections { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:2rem; padding:2rem; }
        .incentive-card { background:#1e293b; border-radius:24px; padding:1.5rem; border-left:6px solid #f59e0b; }
        .lipa-btn { background:#10b981; border:none; color:#0f172a; font-weight:bold; padding:0.5rem 1rem; border-radius:40px; cursor:pointer; }
        /* general */
        .badge { background:#334155; padding:0.2rem 0.8rem; border-radius:40px; font-size:0.8rem; display:inline-flex; align-items:center; gap:4px; }
        .badge.amber { background:#f59e0b20; color:#f59e0b; }
        .badge.green { background:#10b98120; color:#10b981; }
    </style>
</head>
<body>
    <header class="sticky-header">
        <div class="logo-area">
            <a href="index.html" class="logo">AH<span>&</span>SS</a>
            <span class="pulse-badge"></span>
        </div>
        <div class="search-bar-persistent">
            <span>üìç</span><input type="text" value="Nairobi ¬∑ 2 guests ¬∑ May 5‚Äì12">
            <span style="margin-left:auto;">üîç</span>
        </div>
        <div class="right-icons">
            <span class="icon">üí± USD / EN</span>
            <span class="icon">üë§</span>
            <span class="icon">‚ù§Ô∏è</span>
            <span class="icon">‚ò∞</span>
        </div>
    </header>

    <nav class="nav-menu">
        <a href="index.html" class="active">Home</a>
        <a href="search.html">Stays</a>
        <a href="#">AirChef</a>
        <a href="#">AirRide</a>
        <a href="#">AirRelax</a>
        <a href="#">AirDuka</a>
        <a href="#">Rewards</a>
    </nav>

    <main>
        <!-- Full‚Äëscreen map with geolocation & pins -->
        <div class="full-map" id="home-map"></div>
        <div class="radius-control">
            <span>üåç Radius <span id="radius-value">20 km</span></span>
            <input type="range" min="1" max="100" value="20" id="home-radius" style="width:200px;">
        </div>

        <!-- Hot Homes carousel -->
        <div class="hot-homes-carousel" id="hot-carousel"></div>

        <!-- Top Rewarding / Cashback sections -->
        <div class="featured-sections">
            <div class="incentive-card">
                <h3>üèÜ Top Rewarding Homes</h3>
                <div id="top-rewarding"></div>
            </div>
            <div class="incentive-card">
                <h3>üí∞ Best Cashback Homes</h3>
                <div id="top-cashback"></div>
            </div>
            <div class="incentive-card">
                <h3>üéÅ Family Incentive Homes</h3>
                <div id="family-homes"></div>
            </div>
        </div>

        <!-- Trending regions -->
        <div style="padding:2rem">
            <h2 style="color:#f59e0b;">Trending regions</h2>
            <div style="display:flex; gap:1rem; flex-wrap:wrap;">
                <span class="badge amber">Nairobi</span>
                <span class="badge amber">Kisumu</span>
                <span class="badge amber">Mombasa</span>
                <span class="badge amber">Nakuru</span>
                <span class="badge amber">Thika</span>
                <span class="badge amber">Diani</span>
            </div>
        </div>
    </main>

    <footer class="global-footer">
        <div class="social-icons">
            <a href="#">ùïè</a><a href="#">üì∑</a><a href="#">üëç</a>
        </div>
        <div class="footer-links">
            <a href="dispute-center.html">Dispute Center</a>
            <a href="compare.html">Compare</a>
            <a href="#">Wishlist</a>
        </div>
        <div class="marquee-banner">‚ö° 3 people booked in the last 5 minutes ¬∑ ‚ö° 2 booked Sun Beach Villa ¬∑</div>
    </footer>

    <div class="mobile-mockup">
        <div class="mockup-screen">
            <div class="mockup-header">üìç Nairobi ¬∑ 2 guests</div>
            <div class="mockup-map" id="mockup-map-static">üó∫Ô∏è</div>
            <div class="mockup-card">Sunset Villa ¬∑ $180</div>
            <div class="mockup-bot">ü§ñ</div>
        </div>
    </div>

    <div class="dash-assistant floating pulse-glow">ü§ñ</div>

    <script>
        // MOCK DATA (embedded)
        const listings = [
            { id:1, title:'Sunset Beach Villa', price:180, lat:-1.286, lng:36.817, incentiveScore:92, bonusValue:45, cashback:'10%', tier:'Diamond', guests:4, region:'Nairobi', amenities:['airchef','airride'] },
            { id:2, title:'Penthouse Langata', price:250, lat:-1.332, lng:36.722, incentiveScore:88, bonusValue:60, cashback:'5%', tier:'Gold' },
            { id:3, title:'Pool House Kilimani', price:150, lat:-1.292, lng:36.785, incentiveScore:76, bonusValue:30, tier:'Silver' },
            { id:4, title:'Villa Mombasa', price:320, lat:-4.043, lng:39.668, incentiveScore:95, bonusValue:80, cashback:'15%', tier:'Diamond' },
        ];

        // init map
        const map = L.map('home-map').setView([-1.286, 36.817], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '¬© OSM' }).addTo(map);
        // markers with price pins and tier colors
        listings.forEach(l => {
            let color = '#10b981'; // green available
            if(l.tier==='Gold') color='#f59e0b';
            if(l.tier==='Diamond') color='#a855f7';
            const marker = L.marker([l.lat, l.lng], { icon: L.divIcon({ html:`<div style="background:${color}; color:#000; border-radius:20px; padding:4px 8px; font-weight:bold;">$${l.price}</div>`, className:'price-pin' }) }).addTo(map);
            marker.bindPopup(`<b>${l.title}</b><br>üí∞ $${l.price}/night<br>üéÅ Bonus $${l.bonusValue}`);
        });

        // radius slider
        document.getElementById('home-radius').addEventListener('input', (e) => {
            document.getElementById('radius-value').innerText = e.target.value + ' km';
            // in real app would filter
        });

        // populate carousels & sections
        function renderCarousel() {
            const carousel = document.getElementById('hot-carousel');
            listings.slice(0,3).forEach(l => {
                carousel.innerHTML += `<div class="carousel-card">
                    <span class="countdown-badge">‚è≥ 3 left</span>
                    <h4>${l.title}</h4>
                    <p>$${l.price} <span class="badge green">+$${l.bonusValue}</span></p>
                </div>`;
            });
        }
        renderCarousel();

        // Top rewarding (by incentiveScore)
        const topRew = listings.sort((a,b)=>b.incentiveScore - a.incentiveScore)[0];
        document.getElementById('top-rewarding').innerHTML = `<p>${topRew.title} ¬∑ Score ${topRew.incentiveScore} ¬∑ $${topRew.price}</p>`;
        // cashback
        const cashbackList = listings.filter(l => l.cashback);
        document.getElementById('top-cashback').innerHTML = cashbackList.map(l => `<p>${l.title} ¬∑ ${l.cashback} cashback</p>`).join('');
        // family (placeholder)
        document.getElementById('family-homes').innerHTML = `<p>Villa Mombasa ¬∑ Free spa kit</p>`;

        // assistant click
        document.querySelector('.dash-assistant').addEventListener('click',()=>alert('Dash AI: How can I help?'));
    </script>
    <script>
        if ('serviceWorker' in navigator) { navigator.serviceWorker.register('service-worker.js'); }
    </script>
</body>
</html>